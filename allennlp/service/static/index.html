<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/main.css" />
    <title>AllenNLP - Demo</title>
    <!-- Libraries -->
    <script src="lib/react.js"></script>
    <script src="lib/react-dom.js"></script>
    <script src="lib/babel.min.js"></script>
  </head>
  <body>
    <!-- React injection point -->
    <div id="root"></div>
    <!-- React App -->
    <script type="text/babel">

//  BEGIN React

/*******************************************************************************
  <ResultDisplay /> Component
*******************************************************************************/

class ResultDisplay extends React.Component {
  constructor() {
    super();
  }

  render() {
    const { outputState } = this.props;

    const placeholderTemplate = (message) => {
      return (
        <div className="placeholder">
          <div className="placeholder__content">
            <svg className={`placeholder__${outputState}`}>
              <use xlinkHref={`#icon__${outputState}`}></use>
            </svg>
            {message !== "" ? (
              <p>{message}</p>
            ) : null}
          </div>
        </div>
      );
    }

    let outputContent;
    switch (outputState) {
      case "working":
        outputContent = placeholderTemplate("");
        break;
      case "received":
        outputContent = this.props.children;
        break;
      case "error":
        outputContent = placeholderTemplate("Something went wrong. Please try again.");
        break;
      default:
        // outputState = "empty"
        outputContent = placeholderTemplate("Run model to view results");
    }

    return (
      <div className={`pane__right model__output ${outputState !== "received" ? "model__output--empty" : ""}`}>
        <div className="pane__thumb"></div>
        {outputContent}
      </div>
    );
  }
}

/*******************************************************************************
  <TeGraph /> Component
*******************************************************************************/

class TeGraph extends React.Component {
  render() {
    const { x, y } = this.props

    const width = 224;
    const height = 194;

    const absoluteX = Math.round(x * width);
    const absoluteY = Math.round((1.0 - y) * height);

    const plotCoords = {
      left: `${absoluteX}px`,
      top: `${absoluteY}px`,
    };

    return (
      <div className="te-graph-labels">
        <div className="te-graph">
          <div className="te-graph__point" style={plotCoords}></div>
        </div>
      </div>
    );
  }
}

/*******************************************************************************
  <SrlOutput /> Component
*******************************************************************************/

// Render the SRL tag for a single word as a table cell
class SrlTagCell extends React.Component {

  render() {
    const { tag, colorClass } = this.props;

    // Don't show "O" tags, and slice off all the "B-" and "I-" prefixes.
    const tagText = tag == "O" ? "" : tag.slice(2);

    return (
      <td className={colorClass + ' srl-tag srl-tag-' + tag.toLowerCase()}>
        {tagText}
      </td>
    )
  }
}

// Render a SRL-tagged word as a table cell
class SrlWordCell extends React.Component {
  render() {
    const { word, colorClass } = this.props;

    return (<td className={colorClass + ' srl-word'}>{word}</td>)
  }
}

class SrlFrame extends React.Component {
  render() {
    const { verb, words } = this.props;
    const tags = verb["tags"];


    // Skip frames that have only one tag; these are typically helper verbs.
    // In an ideal world we'd filter these out on the backend, but the POS
    // tagger we're using right now doesn't seem up to the task.
    const numTags = tags.filter(tag => tag != "O").length
    if (numTags <= 1) {
      return (<div/>)
    }

    // Create an array indicating what color to highlight each tag cell.
    // For "O" tags this should be -1, indicating no color.
    // Otherwise it should toggle between 0 and 1 every time a "B-" tag occurs.
    var colorClasses = [];
    var currentColor = 1;

    tags.forEach(function(tag, i) {
      if (tag == "O") {
        // "O" tag, so append "" for "no color"
        colorClasses.push("");
      } else if (tag[0] == "B") {
        // "B-" tag, so toggle the current color and then append
        currentColor = (currentColor + 1) % 2;
        colorClasses.push("color" + currentColor);
      } else /* (tag[0] == "I") */ {
        // "I-" tag, so append the current color
        colorClasses.push("color" + currentColor);
      }
    })

    return (
      <div>
        <label>{verb.verb}</label>
        <table className="srl-table">
          <tbody>
            <tr>
              {tags.map((tag, i) => <SrlTagCell tag={tag} key={i} colorClass={colorClasses[i]}/>)}
            </tr>
            <tr>
              {words.map((word, i) => <SrlWordCell word={word} key={i} colorClass={colorClasses[i]}/>)}
            </tr>
          </tbody>
        </table>
      </div>
    )
  }
}

class SrlOutput extends React.Component {
  render() {
    const { rawOutput } = this.props;
    const { words, verbs } = rawOutput;

    return (
      <div className="model__content model__content--srl-output">
        <div className="form__field">
          { verbs.map((verb, i) => (<SrlFrame verb={verb} words={words} key={i}/>)) }
        </div>
      </div>
    );
  }
}

/*******************************************************************************
  <McOutput /> Component
*******************************************************************************/

class McOutput extends React.Component {
  render() {
    const { passage, answer } = this.props;
    const start = passage.indexOf(answer);
    const head = passage.slice(0, start);
    const tail = passage.slice(start + answer.length);

    return (
      <div className="model__content">
        <div className="form__field">
          <label>Answer</label>
          <div className="model__content__summary">{ answer }</div>
        </div>

        <div className="form__field">
          <label>Passage Context</label>
          <div className="passage model__content__summary">
            <span>{head}</span>
            <span className="passage__answer">{answer}</span>
            <span>{tail}</span>
          </div>
        </div>
      </div>
    );
  }
}

/*******************************************************************************
  <TeOutput /> Component
*******************************************************************************/

class TeOutput extends React.Component {
  render() {
    const { rawOutput } = this.props;

    const entailment = rawOutput['label_probs'][0];
    const contradiction = rawOutput['label_probs'][1];
    const neutral = rawOutput['label_probs'][2];

    let judgement; // Valid values: "e", "c", "n"
    let degree; // Valid values: "somewhat", "very"

    if (entailment > contradiction && entailment > neutral) {
      judgement = "e"
    }
    else if (contradiction > entailment && contradiction > neutral) {
      judgement = "c"
    }
    else if (neutral > entailment && neutral > contradiction) {
      judgement = "n"
    }

    const veryConfident = 0.75;
    const somewhatConfident = 0.50;
    const summaryText = () => {
      if (entailment >= veryConfident || contradiction >= veryConfident || neutral >= veryConfident) {
        let judgementStr;
        switch(judgement) {
          case "c":
            judgementStr = (<span>the premise <strong>contradicts</strong> the hypothesis</span>);
            break;
          case "e":
            judgementStr = (<span>the premise <strong>entails</strong> the hypothesis</span>);
            break;
          case "n":
            judgementStr = (<span>there is <strong>no correlation</strong> between the premise and hypothesis</span>);
            break;
        }
        return (
          <div className="model__content__summary">It is <strong>{degree} likely</strong> that {judgementStr}.</div>
        );
      }
      else if (entailment >= somewhatConfident || contradiction >= somewhatConfident || neutral >= somewhatConfident) {
        let judgementStr;
        switch(judgement) {
          case "c":
            judgementStr = (<span>the premise <strong>contradicts</strong> the hypothesis</span>);
            break;
          case "e":
            judgementStr = (<span>the premise <strong>entails</strong> the hypothesis</span>);
            break;
          case "n":
            judgementStr = (<span>there is <strong>no correlation</strong> between the premise and hypothesis</span>);
            break;
        }
        return (
          <div className="model__content__summary">It is <strong>somewhat likely</strong> that {judgementStr}.</div>
        );
      }
      else {
        return (
          <div className="model__content__summary">The model is not confident in its judgment.</div>
        );
      }
    }

    function formatProb(n) {
      return parseFloat((n * 100).toFixed(1)) + "%";
    }

    // https://en.wikipedia.org/wiki/Ternary_plot#Plotting_a_ternary_plot
    const a = contradiction;
    const b = neutral;
    const c = entailment;
    const x = 0.5 * (2 * b + c) / (a + b + c)
    const y = (c / (a + b + c))

    return (
      <div className="model__content">
        <div className="form__field">
          <label>Summary</label>
          {summaryText()}
        </div>
        <div className="te-output">
          <TeGraph x={x} y={y}/>
          <div className="te-table">
            <table>
              <thead>
                <tr>
                  <th>Judgement</th>
                  <th>Probability</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Entailment</td>
                  <td>{formatProb(entailment)}</td>
                </tr>
                <tr>
                  <td>Contradiction</td>
                  <td>{formatProb(contradiction)}</td>
                </tr>
                <tr>
                  <td>Neutral</td>
                  <td>{formatProb(neutral)}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    );
  }
}

/*******************************************************************************
  <Button /> Component
*******************************************************************************/

class Button extends React.Component {
  render() {
    const { outputState, runModel, inputs } = this.props;

    return (
    <button id="input--mc-submit" type="button" disabled={outputState === "working"} className="btn btn--icon-disclosure" onClick={ () => { runModel(event, inputs) }}>Run
      <svg>
        <use xlinkHref="#icon__disclosure"></use>
      </svg>
    </button>
    );
  }
}

/*******************************************************************************
  <ModelIntro /> Component
*******************************************************************************/

class ModelIntro extends React.Component {
  render() {

    const { title, tooltip } = this.props;

    return (
      <h2>
        <span>{title}</span>
        <div className="tooltip">
          <svg className="tooltip__trigger">
            <use xlinkHref="#icon__help"></use>
          </svg>
          <div className="tooltip__cursor-container">
            <div className="tooltip__box">{tooltip}</div>
          </div>
        </div>
      </h2>
    );
  }
}

/*******************************************************************************
  <SrlInput /> Component
*******************************************************************************/

const srlSentences = [
  "The keys, which were needed to access the building, were locked in the car.",
  "However, voters decided that if the stadium was such a good idea someone would build it himself, and rejected it 59% to 41%.",
  "Did Uriah honestly think he could beat the game in under three hours?",
  "If you liked the music we were playing last night, you will absolutely love what we're playing tomorrow!",
  "More than a few CEOs say the red-carpet treatment tempts them to return to a heartland city for future meetings.",
];

const srlDataIds = [
  {
    "id": 0,
    "sentence": srlSentences[0]
  },
  {
    "id": 1,
    "sentence": srlSentences[1]
  },
  {
    "id": 2,
    "sentence": srlSentences[2]
  },
  {
    "id": 3,
    "sentence": srlSentences[3]
  },
  {
    "id": 4,
    "sentence": srlSentences[4]
  }
];

class SrlInput extends React.Component {
  constructor() {
    super();
    this.state = {
      srlSentenceValue: "",
    };
    this.handleListChange = this.handleListChange.bind(this);
    this.handleSentenceChange = this.handleSentenceChange.bind(this);
  }

  handleListChange(e) {
    if (e.target.value !== "") {
      this.setState({
        srlSentenceValue: srlSentences[e.target.value],
      });
    }
  }

  handleSentenceChange(e) {
    this.setState({
      srlSentenceValue: e.target.value,
    });
  }

  render() {
    const { srlSentenceValue } = this.state;
    const { outputState, runSrlModel } = this.props;

    const srlInputs = {
      "sentenceValue": srlSentenceValue,
    };

    const title = "Semantic Role Labeling";
    const tooltip = (
      <div><strong>Semantic Role Labeling (SRL)</strong> is a technique that detects the semantic arguments associated with the verb of a sentence.</div>
    );

    return (
      <div className="model__content">
      <ModelIntro title={title} tooltip={tooltip} />
        <div className="form__instructions"><span>Enter text or</span>
          <select disabled={outputState === "working"} onChange={this.handleListChange}>
            <option value="">Choose an example...</option>
            {srlDataIds.map((obj) => {
              return (
                <option value={obj.id} key={obj.id}>{obj.sentence}</option>
              );
            })}
          </select>
        </div>
        <div className="form__field">
          <label htmlFor="#input--srl-sentence">Sentence</label>
          <input onChange={this.handleSentenceChange} value={srlSentenceValue} id="input--srl-sentence" ref="srlSentence" type="text" required="true" autoFocus="true" value={srlSentenceValue} placeholder="E.g. &quot;John likes and Bill hates ice cream.&quot;" />
        </div>
        <div className="form__field form__field--btn">
          <Button outputState={outputState} runModel={runSrlModel}  inputs={srlInputs} />
        </div>
      </div>
    );
  }
}

/*******************************************************************************
  <McInput /> Component
*******************************************************************************/

const mcPassages = [
  "A reusable launch system (RLS, or reusable launch vehicle, RLV) is a launch system which is capable of launching a payload into space more than once. This contrasts with expendable launch systems, where each launch vehicle is launched once and then discarded. No completely reusable orbital launch system has ever been created. Two partially reusable launch systems were developed, the Space Shuttle and Falcon 9. The Space Shuttle was partially reusable: the orbiter (which included the Space Shuttle main engines and the Orbital Maneuvering System engines), and the two solid rocket boosters were reused after several months of refitting work for each launch. The external tank was discarded after each flight.",

  "Robotics is an interdisciplinary branch of engineering and science that includes mechanical engineering, electrical engineering, computer science, and others. Robotics deals with the design, construction, operation, and use of robots, as well as computer systems for their control, sensory feedback, and information processing. These technologies are used to develop machines that can substitute for humans. Robots can be used in any situation and for any purpose, but today many are used in dangerous environments (including bomb detection and de-activation), manufacturing processes, or where humans cannot survive. Robots can take on any form but some are made to resemble humans in appearance. This is said to help in the acceptance of a robot in certain replicative behaviors usually performed by people. Such robots attempt to replicate walking, lifting, speech, cognition, and basically anything a human can do.",

  "The Matrix is a 1999 science fiction action film written and directed by The Wachowskis, starring Keanu Reeves, Laurence Fishburne, Carrie-Anne Moss, Hugo Weaving, and Joe Pantoliano. It depicts a dystopian future in which reality as perceived by most humans is actually a simulated reality called \"the Matrix\", created by sentient machines to subdue the human population, while their bodies' heat and electrical activity are used as an energy source. Computer programmer \"Neo\" learns this truth and is drawn into a rebellion against the machines, which involves other people who have been freed from the \"dream world.\"",

  "Kerbal Space Program (KSP) is a space flight simulation video game developed and published by Squad for Microsoft Windows, OS X, Linux, PlayStation 4, Xbox One, with a Wii U version that was supposed to be released at a later date. The developers have stated that the gaming landscape has changed since that announcement and more details will be released soon. In the game, players direct a nascent space program, staffed and crewed by humanoid aliens known as \"Kerbals\". The game features a realistic orbital physics engine, allowing for various real-life orbital maneuvers such as Hohmann transfer orbits and bi-elliptic transfer orbits.",

  "The Millennium Falcon is a spaceship in the Star Wars universe commanded at one time by Corellian smuggler Han Solo (Harrison Ford) and his Wookiee first mate, Chewbacca (Peter Mayhew). The highly modified Corellian Engineering Corporation (CEC) YT-1300 light freighter first appears in Star Wars (1977), and subsequently in The Empire Strikes Back (1980), Return of the Jedi (1983) and The Force Awakens (2015). The ship also makes a brief cameo appearance in Revenge of the Sith (2005). Additionally, the Falcon appears in a variety of Star Wars expanded universe materials, including books, comics, and games; James Luceno's novel Millennium Falcon focuses on the titular ship. It also appears in the 2014 animated film The Lego Movie in Lego form, with Billy Dee Williams and Anthony Daniels reprising their roles of Lando Calrissian and C-3PO, with Keith Ferguson voicing Han Solo.",
];

const mcQuestions = [
  "How many partially reusable launch systems were developed?",
  "What do robots that resemble humans attempt to do?",
  "Who stars in The Matrix?",
  "What does the physics engine allow for?",
  "What type of freighter is the Millenium Falcon?",
];

const mcDataIds = [
  {
    "id": 0,
    "passage": mcPassages[0]
  },
  {
    "id": 1,
    "passage": mcPassages[1]
  },
  {
    "id": 2,
    "passage": mcPassages[2]
  },
  {
    "id": 3,
    "passage": mcPassages[3]
  },
  {
    "id": 4,
    "passage": mcPassages[4]
  }
];

class McInput extends React.Component {
  constructor() {
    super();
    this.state = {
      mcPassageValue: "",
      mcQuestionValue: "",
    };
    this.handleListChange = this.handleListChange.bind(this);
    this.handleQuestionChange = this.handleQuestionChange.bind(this);
    this.handlePassageChange = this.handlePassageChange.bind(this);
  }

  handleListChange(e) {
    if (e.target.value !== "") {
      this.setState({
        mcPassageValue: mcPassages[e.target.value],
        mcQuestionValue: mcQuestions[e.target.value],
      });
    }
  }

  handlePassageChange(e) {
    this.setState({
      mcPassageValue: e.target.value,
    });
  }

  handleQuestionChange(e) {
    this.setState({
      mcQuestionValue: e.target.value,
    });
  }

  render() {

    const { mcPassageValue, mcQuestionValue } = this.state;
    const { outputState, runMcModel } = this.props;

    const mcInputs = {
      "passageValue": mcPassageValue,
      "questionValue": mcQuestionValue
    };

    const title = "Machine Comprehension";
    const tooltip = (
      <div><strong>Machine Comprehension (MC)</strong>, based on BiDAF, or Bi-Directional Attention Flow, is an approach to answering questions. Given a passage and a question about the contents of the passage, the MC model will provide an answer.</div>
    );

    return (
      <div className="model__content">
      <ModelIntro title={title} tooltip={tooltip} />
        <div className="form__instructions"><span>Enter text or</span>
          <select disabled={outputState === "working"} onChange={this.handleListChange}>
            <option value="">Choose an example...</option>
            {mcDataIds.map((obj) => {
              return (
                <option value={obj.id} key={obj.id}>{obj.passage.substring(0,60) + "..."}</option>
              );
            })}
          </select>
        </div>
        <div className="form__field">
          <label htmlFor="#input--mc-passage">Passage</label>
          <textarea onChange={this.handlePassageChange} id="input--mc-passage" type="text" required="true" autoFocus="true" placeholder="E.g. &quot;Saturn is the sixth planet from the Sun and the second-largest in the Solar System, after Jupiter. It is a gas giant with an average radius about nine times that of Earth. Although it has only one-eighth the average density of Earth, with its larger volume Saturn is just over 95 times more massive. Saturn is named after the Roman god of agriculture; its astronomical symbol represents the god&#39;s sickle.&quot;" value={mcPassageValue} disabled={outputState === "working"}></textarea>
        </div>
        <div className="form__field">
          <label htmlFor="#input--mc-question">Question</label>
          <input onChange={this.handleQuestionChange} id="input--mc-question" type="text" required="true" value={mcQuestionValue} placeholder="E.g. &quot;What does Saturn’s astronomical symbol represent?&quot;" disabled={outputState === "working"} />
        </div>
        <div className="form__field form__field--btn">
          <Button outputState={outputState} runModel={runMcModel} inputs={mcInputs} />
        </div>
      </div>
    );
  }
}

/*******************************************************************************
  <TeInput /> Component
*******************************************************************************/

const tePremises = [
  "If you help the needy, God will reward you.",
  "Two women are wandering along the shore drinking iced tea.",
  "An interplanetary spacecraft is in orbit around a gas giant's icy moon.",
  "A large, gray elephant walked beside a herd of zebras.",
  "A handmade djembe was on display at the Smithsonian.",
];

const teHypotheses = [
  "Giving money to the poor has good consequences.",
  "Two women are sitting on a blanket near some rocks talking about politics.",
  "The spacecraft has the ability to travel between planets.",
  "The elephant was lost.",
  "Visitors could see the djembe."
];

const teDataIds = [
  {
    "id": 0,
    "premise": tePremises[0]
  },
  {
    "id": 1,
    "premise": tePremises[1]
  },
  {
    "id": 2,
    "premise": tePremises[2]
  },
  {
    "id": 3,
    "premise": tePremises[3]
  },
  {
    "id": 4,
    "premise": tePremises[4]
  }
];

class TeInput extends React.Component {
  constructor() {
    super();
    this.state = {
      tePremiseValue: "",
      teHypothesisValue: "",
    };
    this.handleListChange = this.handleListChange.bind(this);
    this.handlePremiseChange = this.handlePremiseChange.bind(this);
    this.handleHypothesisChange = this.handleHypothesisChange.bind(this);
  }

  handleListChange(e) {
    if (e.target.value !== "") {
      this.setState({
        tePremiseValue: tePremises[e.target.value],
        teHypothesisValue: teHypotheses[e.target.value],
      });
    }
  }

  handlePremiseChange(e) {
    this.setState({
      tePremiseValue: e.target.value,
    });
  }

  handleHypothesisChange(e) {
    this.setState({
      teHypothesisValue: e.target.value,
    });
  }

  render() {

    const { tePremiseValue, teHypothesisValue } = this.state;
    const { outputState, runTeModel } = this.props;

    const teInputs = {
      "premiseValue": tePremiseValue,
      "hypothesisValue": teHypothesisValue
    };

    const title = "Textual Entailment";
    const tooltip = (
      <div><strong>Textual Entailment (TE)</strong> is a task in natural language processing for determining whether a phrase (hypothesis) is true given a premise.</div>
    );

    return (
      <div className="model__content">
      <ModelIntro title={title} tooltip={tooltip} />
        <div className="form__instructions"><span>Enter text or</span>
          <select disabled={outputState === "working"} onChange={this.handleListChange}>
            <option value="">Choose an example...</option>
            {teDataIds.map((obj) => {
              return (
                <option value={obj.id} key={obj.id}>{obj.premise}</option>
              );
            })}
          </select>
        </div>
        <div className="form__field">
          <label htmlFor="input--te-premise">Premise</label>
          <input onChange={this.handlePremiseChange} id="input--te-premise" type="text" required="true" autoFocus="true" placeholder="E.g. &quot;A black dog chased a cat throught the park.&quot;" value={tePremiseValue} />
        </div>
        <div className="form__field">
          <label htmlFor="input--te-hypothesis">Hypothesis</label>
          <input onChange={this.handleHypothesisChange} id="input--te-hypothesis" type="text" required="true" value={teHypothesisValue} placeholder="E.g. &quot;The cat is black.&quot;" />
        </div>
        <div className="form__field form__field--btn">
          <Button outputState={outputState} runModel={runTeModel} inputs={teInputs} />
        </div>
      </div>
    );
  }
}

/*******************************************************************************
  <PaneRight /> Component
*******************************************************************************/

class PaneRight extends React.Component {
  render() {
    const { outputState, rawOutput } = this.props;

    return (
      <ResultDisplay outputState={outputState}>
        {this.props.children}
      </ResultDisplay>
    )
  }
}

/*******************************************************************************
  <PaneLeft /> Component
*******************************************************************************/

class PaneLeft extends React.Component {
  constructor() {
    super();
  }

  render () {
    return (
      <div className="pane__left model__input">
        {this.props.children}
      </div>
    );
  }
}

/*******************************************************************************
  <Header /> Component
*******************************************************************************/

class Header extends React.Component {
  render() {
    const { selectedModel, changeModel } = this.props;

    const buildLink = (thisModel, label) => {
      return (
        <li>
          <a href="#" className={`nav__link ${selectedModel === thisModel ? "nav__link--selected" : ""}`} onClick={() => { changeModel(thisModel) }}>
            <span>{label}</span>
          </a>
        </li>
      )
    }

    return (
      <header>
        <div className="header__content">
          <nav>
            <ul>
              {buildLink("srl", "SRL Model")}
              {buildLink("mc", "MC Model")}
              {buildLink("te", "TE Model")}
            </ul>
          </nav>
          <h1 className="header__content__logo">
            <a href="http://www.allennlp.org/" target="_blank">
              <svg>
                <use xlinkHref="#icon__allennlp-logo"></use>
              </svg>
              <span className="u-hidden">AllenNLP</span>
            </a>
          </h1>
        </div>
      </header>
    );
  }
}

/*******************************************************************************
  <App /> Container
*******************************************************************************/

class App extends React.Component {
  constructor() {
    super();
    this.state = {
      selectedModel: "srl", // valid values: "srl", "mc", "te"
      rawOutput: "",
    };
    this.changeModel = this.changeModel.bind(this);
  }

  changeModel(thisModel) {
    this.setState({
      selectedModel: thisModel,
    });
  }

  render() {

    const { selectedModel, rawOutput } = this.state;

    const ModelComponent = () => {
      if (selectedModel == "srl") {
        return (<SrlComponent />)
      }
      else if (selectedModel == "te") {
        return (<TeComponent />)
      }
      else if (selectedModel == "mc") {
        return (<McComponent />)
      }
    }

    return (
      <div className="pane-container">
        <Header selectedModel={selectedModel} changeModel={this.changeModel}/>
        <ModelComponent />
      </div>
    );
  }
}

/*******************************************************************************
  <SrlComponent /> Component
*******************************************************************************/

class SrlComponent extends React.Component {
  constructor() {
    super();

    this.state = {
      outputState: "empty", // valid values: "working", "empty", "received", "error"
      rawOutput: {},
    };

    this.runSrlModel = this.runSrlModel.bind(this);
  }

  runSrlModel(event, inputs) {
    this.setState({
      outputState: "working",
    });

    var payload = { sentence: inputs.sentenceValue };
    fetch('/predict/semantic-role-labeling', {
      method: 'POST',
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(payload)
    }).then(function(response) {
      return response.json();
    }).then((json) => {
      this.setState({rawOutput: json});
      this.setState({outputState: "received"});
    }).catch((error) => {
      this.setState({outputState: "error"});
      throw error; // todo(michaels): is this right?
    });
  }

  render() {
    return (
      <div className="pane model">
        <PaneLeft>
          <SrlInput runSrlModel={this.runSrlModel} outputState={this.state.outputState}/>
        </PaneLeft>
        <PaneRight outputState={this.state.outputState}>
          <SrlOutput rawOutput={this.state.rawOutput}/>
        </PaneRight>
      </div>
    );
  }
}

/*******************************************************************************
  <TeComponent /> Component
*******************************************************************************/

class TeComponent extends React.Component {
  constructor() {
    super();

    this.state = {
      outputState: "empty", // valid values: "working", "empty", "received", "error"
      rawOutput: {},
    };

    this.runTeModel = this.runTeModel.bind(this);
  }

  runTeModel(event, inputs) {
    this.setState({
      outputState: "working",
    });

    var payload = {
      premise: inputs.premiseValue,
      hypothesis: inputs.hypothesisValue,
    };
    fetch('/predict/textual-entailment', {
      method: 'POST',
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(payload)
    }).then((response) => {
      return response.json();
    }).then((json) => {
      this.setState({rawOutput: json});
      this.setState({outputState: "received"});
    }).catch((error) => {
      this.setState({outputState: "error"});
      throw error; // todo(michaels): is this right?
    });
  }

  render() {
    return (
      <div className="pane model">
        <PaneLeft>
          <TeInput runTeModel={this.runTeModel} outputState={this.state.outputState}/>
        </PaneLeft>
        <PaneRight outputState={this.state.outputState}>
          <TeOutput rawOutput={this.state.rawOutput}/>
        </PaneRight>
      </div>
    );
  }
}

/*******************************************************************************
  <McComponent /> Component
*******************************************************************************/

class McComponent extends React.Component {
  constructor() {
    super();

    this.state = {
      outputState: "empty", // valid values: "working", "empty", "received", "error"
      passage: "",
      answer: "",
    };

    this.runMcModel = this.runMcModel.bind(this);
  }

  runMcModel(event, inputs) {
    this.setState({
      outputState: "working",
    });

    var payload = {
      passage: inputs.passageValue,
      question: inputs.questionValue,
    };
    fetch('/predict/machine-comprehension', {
      method: 'POST',
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(payload)
    }).then((response) => {
      return response.json();
    }).then((json) => {
      this.setState({answer: json["best_span_str"]});
      this.setState({passage: inputs.passageValue});
      this.setState({outputState: "received"});
    }).catch((error) => {
      this.setState({outputState: "error"});
      throw error; // todo(michaels): is this right?
    });
  }

  render() {
    return (
      <div className="pane model">
        <PaneLeft>
          <McInput runMcModel={this.runMcModel} outputState={this.state.outputState}/>
        </PaneLeft>
        <PaneRight outputState={this.state.outputState}>
          <McOutput answer={this.state.answer} passage={this.state.passage} />
        </PaneRight>
      </div>
    );
  }
}

/*******************************************************************************
  ReactDOM Render
*******************************************************************************/

ReactDOM.render(
  <App />,
  document.getElementById('root')
);


// END React

    </script>
    <svg id="icons" xmlns="http://www.w3.org/2000/svg">
      <symbol id="icon__empty" viewBox="0 0 96 58">
        <path d="M48,0.3C25,0.3,5.7,13.7,0,29c5.7,15.3,25,28.7,48,28.7S90.3,44.3,96,29C90.3,13.7,71,0.3,48,0.3z M48,47C38,47,30,39,30,29 c0-10,8.1-18,18-18c10,0,18,8.1,18,18C66,39,58,47,48,47z M48,22.1c-3.8,0-6.9,3.1-6.9,6.9s3.1,6.9,6.9,6.9s6.9-3.1,6.9-6.9 S51.8,22.1,48,22.1z"></path>
      </symbol>
      <symbol id="icon__error" viewBox="0 0 50 50">
        <path d="M49.3,39.8l-20-34.7c-0.9-1.5-2.5-2.5-4.3-2.5c-1.8,0-3.4,1-4.3,2.5l-20,34.7c-0.9,1.5-0.9,3.4,0,5 c0.9,1.5,2.5,2.5,4.3,2.5h40c1.8,0,3.4-1,4.3-2.5C50.2,43.3,50.2,41.4,49.3,39.8z M25,40.9c-1.5,0-2.8-1.2-2.8-2.8 c0-1.5,1.2-2.8,2.8-2.8s2.8,1.2,2.8,2.8C27.8,39.7,26.5,40.9,25,40.9z M27.8,29.2c0,1.5-1.2,2.8-2.8,2.8s-2.8-1.2-2.8-2.8V17.6 c0-1.5,1.2-2.8,2.8-2.8s2.8,1.2,2.8,2.8V29.2z"/>
      </symbol>
      <symbol id="icon__disclosure" viewBox="0 0 7 12">
        <polygon points="0.7,12 0,11.3 5.5,6 0,0.7 0.7,0 7,6"></polygon>
      </symbol>
      <symbol id="icon__help" viewBox="0 0 17 17">
        <path d="M8.5,0C3.8,0,0,3.8,0,8.5S3.8,17,8.5,17S17,13.2,17,8.5S13.2,0,8.5,0z M9.8,13.8c0,0.2-0.1,0.3-0.3,0.3H7.6 c-0.2,0-0.3-0.1-0.3-0.3V12c0-0.2,0.1-0.3,0.3-0.3h1.9c0.2,0,0.3,0.1,0.3,0.3V13.8z M11.6,7.5c-0.2,0.3-0.5,0.6-1,1l-0.4,0.3 C9.9,8.9,9.8,9.1,9.7,9.3c0,0.1-0.1,0.3-0.1,0.7c0,0.2-0.1,0.3-0.3,0.3H7.7c-0.1,0-0.1,0-0.2-0.1C7.4,10.1,7.4,10,7.4,10 c0-0.7,0.1-1.3,0.2-1.6c0.1-0.3,0.4-0.7,1-1.1L9,6.9c0.1-0.1,0.2-0.2,0.3-0.3C9.5,6.4,9.6,6.2,9.6,6c0-0.3-0.1-0.5-0.2-0.7 C9.2,5.1,8.9,5,8.5,5S7.9,5.1,7.7,5.4C7.5,5.6,7.4,5.9,7.4,6.3c0,0.2-0.1,0.3-0.3,0.3H5.3c-0.1,0-0.1,0-0.2-0.1C5,6.4,5,6.3,5,6.2 c0.1-1.3,0.5-2.3,1.4-2.8c0.5-0.3,1.2-0.5,2-0.5c1,0,1.9,0.2,2.6,0.7c0.7,0.5,1.1,1.3,1.1,2.3C12,6.5,11.9,7,11.6,7.5z"></path>
      </symbol>
      <symbol id="icon__allennlp-logo" viewBox="0 0 124 22">
        <path d="M19.3,0.4h3.8v16c0,0.6,0.1,1,0.4,1.3c0.3,0.3,0.6,0.5,1.1,0.5c0.2,0,0.5,0,0.8-0.1c0.3-0.1,0.5-0.2,0.8-0.3l0.5,2.9 c-0.5,0.2-1.1,0.4-1.8,0.6c-0.7,0.1-1.3,0.2-1.9,0.2c-1.2,0-2.1-0.3-2.8-1c-0.7-0.6-1-1.5-1-2.7V0.4z"></path>
        <path d="M27.6,0.4h3.8v16c0,0.6,0.1,1,0.4,1.3c0.3,0.3,0.6,0.5,1.1,0.5c0.2,0,0.5,0,0.8-0.1c0.3-0.1,0.5-0.2,0.8-0.3l0.5,2.9 c-0.5,0.2-1.1,0.4-1.8,0.6c-0.7,0.1-1.3,0.2-1.9,0.2c-1.2,0-2.1-0.3-2.8-1c-0.7-0.6-1-1.5-1-2.7V0.4z"></path>
        <path d="M42.9,21.6c-1.2,0-2.3-0.2-3.3-0.6c-1-0.4-1.8-1-2.5-1.7c-0.7-0.7-1.2-1.5-1.6-2.5c-0.4-0.9-0.6-1.9-0.6-2.9 c0-1.1,0.2-2.1,0.5-3c0.4-0.9,0.9-1.8,1.6-2.5c0.7-0.7,1.5-1.3,2.5-1.7c1-0.4,2.1-0.6,3.3-0.6c1.2,0,2.3,0.2,3.3,0.6 c1,0.4,1.8,1,2.5,1.7c0.7,0.7,1.2,1.5,1.5,2.5c0.4,0.9,0.5,1.9,0.5,2.9c0,0.2,0,0.5,0,0.7c0,0.2,0,0.4-0.1,0.6H39.1 c0.1,0.6,0.2,1.1,0.4,1.6c0.2,0.5,0.5,0.8,0.9,1.2c0.4,0.3,0.8,0.6,1.2,0.7c0.5,0.2,0.9,0.3,1.4,0.3c0.8,0,1.5-0.2,2.2-0.6 c0.7-0.4,1.1-0.9,1.4-1.5l3.3,0.9c-0.6,1.1-1.4,2.1-2.6,2.8C46,21.2,44.6,21.6,42.9,21.6z M46.8,12.5c-0.1-1.1-0.5-2-1.2-2.7 c-0.7-0.7-1.6-1-2.7-1c-0.5,0-1,0.1-1.4,0.3c-0.4,0.2-0.8,0.4-1.2,0.8c-0.3,0.3-0.6,0.7-0.8,1.2c-0.2,0.5-0.3,1-0.4,1.5H46.8z"></path>
        <path d="M66.3,21.3h-3.8v-8.4c0-1.2-0.2-2.1-0.6-2.6c-0.4-0.6-1-0.8-1.7-0.8c-0.4,0-0.8,0.1-1.2,0.2c-0.4,0.2-0.8,0.4-1.1,0.6 c-0.4,0.3-0.7,0.6-1,1c-0.3,0.4-0.5,0.8-0.6,1.3v8.7h-3.8v-15h3.5v2.8c0.6-1,1.4-1.7,2.4-2.2c1-0.5,2.2-0.8,3.5-0.8 c0.9,0,1.7,0.2,2.3,0.5c0.6,0.3,1,0.8,1.4,1.3c0.3,0.6,0.5,1.2,0.7,1.9c0.1,0.7,0.2,1.4,0.2,2.1V21.3z"></path>
        <path d="M72,2.9v18.4h-1V1h0.7l14.9,18.7V1h1v20.3h-1L72,2.9z"></path>
        <path d="M92.4,21.3V1h1v19.4h12.4v0.9H92.4z"></path>
        <path d="M109.9,21.3V1h8.3c0.8,0,1.6,0.2,2.3,0.5c0.7,0.4,1.3,0.8,1.8,1.4c0.5,0.6,0.9,1.2,1.2,2c0.3,0.7,0.4,1.5,0.4,2.3 c0,0.8-0.1,1.6-0.4,2.3c-0.3,0.8-0.7,1.4-1.2,2c-0.5,0.6-1.1,1-1.8,1.4c-0.7,0.4-1.4,0.5-2.3,0.5h-7.5v7.8H109.9z M110.9,12.5h7.5 c0.7,0,1.4-0.2,1.9-0.5c0.6-0.3,1.1-0.7,1.5-1.2c0.4-0.5,0.7-1.1,0.9-1.7c0.2-0.6,0.3-1.3,0.3-2c0-0.7-0.1-1.3-0.4-2 c-0.3-0.6-0.6-1.2-1-1.7c-0.4-0.5-0.9-0.9-1.5-1.2c-0.6-0.3-1.2-0.4-1.9-0.4h-7.3V12.5z"></path>
        <path d="M18.4,4.6c-1.7,0.9-3.3,2-4.9,3.1c0,0,0,0,0,0v0c0,0,0,0,0,0L11,0.4H7.3L0.2,20.8L0,21.5h4.1c0,0,0,0,0.1-0.1 c2-3.2,4.4-6.1,7-8.8l2.9,8.9h4.1L14.2,9.8c1.3-1.2,2.7-2.3,4.2-3.3V4.6z M6.8,13.2l2.3-7.1l1.3,3.9C9.2,11,8,12,6.8,13.2z"></path>
      </symbol>
      <symbol id="icon__ai2-logo" viewBox="0 0 44 32">
        <path d="M19.648 5.248l1.28 0.576-1.088 0.576c-0.064 0-0.064 0.128-0.064 0.192s0.064 0.128 0.128 0.128l1.408 0.256-1.024 1.088c-0.064 0.064-0.064 0.128 0 0.192s0.128 0.064 0.192 0.064l1.6-0.384-0.448 1.024c0 0.064 0 0.128 0.064 0.192s0.128 0.064 0.192 0l0.768-0.384c-0.192-0.576-0.384-1.216-0.64-1.792-0.128-0.32-0.32-0.64-0.384-1.024-0.384-0.768-0.256-1.472 0.128-2.112 0.448-0.704 1.024-1.088 1.792-1.28 0.896-0.192 1.728 0 2.432 0.64 0.512 0.448 0.768 0.96 0.896 1.6s0 1.28-0.32 1.856c-0.256 0.448-0.512 0.896-0.64 1.408-0.064 0.256-0.128 0.384-0.192 0.576l0.832 0.448c0 0 0.064 0 0.064 0 0.064 0 0.064 0 0.128-0.064s0.064-0.128 0.064-0.192l-0.448-1.024 1.6 0.384c0.064 0 0.128 0 0.192-0.064s0-0.128 0-0.192l-1.024-1.088 1.408-0.256c0.064 0 0.128-0.064 0.128-0.128s0-0.128-0.064-0.192l-1.152-0.576 1.28-0.576c0.064 0 0.128-0.064 0.064-0.128 0-0.064-0.064-0.128-0.128-0.128l-1.408-0.256 1.28-1.152c0.064-0.064 0.064-0.128 0.064-0.192s-0.128-0.064-0.192-0.064l-1.6 0.32 1.024-1.472c0.064-0.064 0.064-0.128 0-0.192s-0.128-0.064-0.192-0.064l-1.728 0.96 0.448-1.984c0-0.064 0-0.128-0.064-0.192-0.064 0-0.128 0-0.192 0.064l-1.28 1.664-0.512-2.176c0-0.064-0.064-0.128-0.128-0.128s-0.128 0.064-0.128 0.128l-0.448 2.24-1.28-1.664c-0.128-0.064-0.192-0.064-0.256-0.064s-0.128 0.128-0.064 0.192l0.384 1.984-1.728-0.96c-0.064-0.064-0.128 0-0.192 0.064s-0.064 0.128 0 0.192l1.024 1.472-1.6-0.32c-0.064 0-0.128 0-0.192 0.064 0 0.064 0 0.128 0.064 0.192l1.28 1.152-1.408 0.256c-0.064 0-0.128 0.064-0.128 0.128 0.064 0.064 0.064 0.128 0.128 0.192z"></path>
        <path d="M34.24 28.16l4.736-7.168c1.728-2.624 2.56-4.8 2.56-6.528 0-1.92-0.64-3.392-1.984-4.48-1.216-1.024-3.328-1.536-5.504-1.6v0c-0.064 0-0.128 0-0.128 0-0.064 0-0.128 0-0.128 0v0c-6.080 0.128-12.544 3.84-18.112 8.32l-2.88-8h-4.096l-8.064 23.296h4.544c0 0 3.264-4.416 8.128-9.152l3.008 9.152h4.544l-4.224-12.16c1.728-1.472 3.52-2.816 5.44-4.032v16.192h4.16v-18.368c2.624-1.152 5.312-1.856 7.936-1.792 2.112 0 3.136 0.896 3.136 2.624 0 1.472-0.704 3.264-2.176 5.44l-7.36 10.688v1.216h15.104v-3.648h-8.64zM7.872 23.744l2.88-8.768 1.472 4.544c-1.536 1.408-3.008 2.88-4.352 4.224z"></path>
        <path d="M22.784 9.92c0.064 0.192 0.064 0.384 0.128 0.576 0 0.064 0 0.064 0.064 0.128 0.896-0.512 1.792-0.96 2.688-1.408 0-0.064 0-0.064 0.064-0.128 0-0.064 0-0.064 0.064-0.128h-3.136c0 0.32 0.064 0.64 0.128 0.96z"></path>
      </symbol>
      <symbol id="icon__working" viewBox="0 0 26 26">
        <defs>
          <linearGradient id="icon__working__gradient" gradientUnits="userSpaceOnUse" x1="13" y1="23.4326" x2="13" y2="2.5674">
            <stop offset="0" class="icon__working__gradient__stop icon__working__gradient__stop--stop1"></stop>
            <stop offset="0.1757" class="icon__working__gradient__stop icon__working__gradient__stop--stop2"></stop>
            <stop offset="0.2047" class="icon__working__gradient__stop icon__working__gradient__stop--stop3"></stop>
            <stop offset="0.5615" class="icon__working__gradient__stop icon__working__gradient__stop--stop4"></stop>
            <stop offset="0.6235" class="icon__working__gradient__stop icon__working__gradient__stop--stop5"></stop>
            <stop offset="1" class="icon__working__gradient__stop icon__working__gradient__stop--stop6"></stop>
          </linearGradient>
        </defs>
        <path d="M13,3.6c5.2,0,9.4,4.2,9.4,9.4s-4.2,9.4-9.4,9.4S3.6,18.2,3.6,13S7.8,3.6,13,3.6 M13,2.6 C7.2,2.6,2.6,7.2,2.6,13S7.2,23.4,13,23.4S23.4,18.8,23.4,13S18.8,2.6,13,2.6L13,2.6z" class="icon__working__path"></path>
      </symbol>
      <symbol id="icon__ai2-logo-full" viewBox="0 0 258 44">
        <polygon points="258,37.3 258,38.5 252.3,38.5 252.3,30.9 257.9,30.9 257.9,32.1 253.7,32.1 253.7,34.1 257.5,34.1 257.5,35.3 253.7,35.3 253.7,37.3" class="st0"></polygon>
        <path d="M247,32c-1.4,0-2.5,1.2-2.5,2.7v0c0,1.5,1.1,2.7,2.5,2.7c0.9,0,1.5-0.4,2.2-1l0.9,0.9c-0.8,0.8-1.7,1.3-3.1,1.3 c-2.2,0-3.9-1.7-3.9-3.9v0c0-2.2,1.6-3.9,3.9-3.9c1.4,0,2.2,0.5,3,1.2l-0.9,1C248.6,32.4,247.9,32,247,32z" class="st0"></path>
        <polygon points="239.6,38.5 235.4,33.1 235.4,38.5 234.1,38.5 234.1,30.9 234.1,30.9 235.3,30.9 239.4,36.2 239.4,30.9 240.7,30.9 240.7,38.5" class="st0"></polygon>
        <polygon points="231.6,37.3 231.6,38.5 226,38.5 226,30.9 231.6,30.9 231.6,32.1 227.3,32.1 227.3,34.1 231.1,34.1 231.1,35.3 227.3,35.3 227.3,37.3" class="st0"></polygon>
        <path d="M220.1,35.4v-1.2h3.2v3.2c-0.7,0.6-1.8,1.2-3.2,1.2c-2.4,0-3.9-1.7-3.9-3.9v0c0-2.1,1.6-3.9,3.9-3.9 c1.3,0,2.1,0.4,2.9,1l-0.8,1c-0.6-0.5-1.2-0.8-2.1-0.8c-1.4,0-2.5,1.2-2.5,2.7v0c0,1.6,1,2.7,2.6,2.7c0.7,0,1.4-0.2,1.8-0.6v-1.4 H220.1z" class="st0"></path>
        <rect x="212.4" y="30.9" width="1.3" height="7.6" class="st0"></rect>
        <polygon points="204.8,38.5 204.8,30.9 206.1,30.9 206.1,37.3 210.1,37.3 210.1,38.5" class="st0"></polygon>
        <polygon points="197.2,38.5 197.2,30.9 198.5,30.9 198.5,37.3 202.5,37.3 202.5,38.5" class="st0"></polygon>
        <polygon points="194.8,37.3 194.8,38.5 189.1,38.5 189.1,30.9 194.7,30.9 194.7,32.1 190.4,32.1 190.4,34.1 194.2,34.1 194.2,35.3 190.4,35.3 190.4,37.3" class="st0"></polygon>
        <polygon points="184.4,32.2 184.4,38.5 183.1,38.5 183.1,32.2 183.1,32.2 180.7,32.2 180.7,30.9 186.8,30.9 186.8,32.2" class="st0"></polygon>
        <polygon points="177.3,38.5 173.1,33.1 173.1,38.5 171.8,38.5 171.8,30.9 171.8,30.9 173,30.9 177.1,36.2 177.1,30.9 178.4,30.9 178.4,38.5" class="st0"></polygon>
        <rect x="167.6" y="30.9" width="1.3" height="7.6" class="st0"></rect>
        <polygon points="155.8,38.5 155.8,30.9 157.2,30.9 157.2,37.3 161.2,37.3 161.2,38.5" class="st0"></polygon>
        <path d="M150.4,30.9h-1.2l-3.3,7.6h1.4l0.8-1.8h3.6l0.8,1.8h1.4L150.4,30.9z M148.4,35.5l1.3-3l1.3,3H148.4z" class="st0"></path>
        <rect x="142.2" y="30.9" width="1.3" height="7.6" class="st0"></rect>
        <path d="M136.9,32c-1.4,0-2.5,1.2-2.5,2.7v0c0,1.5,1.1,2.7,2.5,2.7c0.9,0,1.5-0.4,2.2-1l0.9,0.9 c-0.8,0.8-1.7,1.3-3.1,1.3c-2.2,0-3.9-1.7-3.9-3.9v0c0-2.2,1.6-3.9,3.9-3.9c1.4,0,2.2,0.5,3,1.2l-0.9,1 C138.4,32.4,137.7,32,136.9,32z" class="st0"></path>
        <rect x="129.1" y="30.9" width="1.3" height="7.6" class="st0"></rect>
        <polygon points="122.4,32.1 122.4,34.2 126.2,34.2 126.2,35.4 122.4,35.4 122.4,38.5 121,38.5 121,30.9 126.7,30.9 126.7,32.1" class="st0"></polygon>
        <rect x="116.8" y="30.9" width="1.3" height="7.6" class="st0"></rect>
        <polygon points="112.1,32.2 112.1,38.5 110.7,38.5 110.7,32.2 108.3,32.2 108.3,30.9 114.5,30.9 114.5,32.2" class="st0"></polygon>
        <path d="M104.6,35.6c1-0.3,1.8-1.1,1.8-2.3v0c0-0.7-0.2-1.2-0.6-1.6c-0.5-0.5-1.2-0.8-2.2-0.8h-3.4v7.6h1.3v-2.6h1.7 l1.9,2.6h1.6L104.6,35.6z M101.6,34.7v-2.5h1.9c1,0,1.6,0.4,1.6,1.3v0c0,0.8-0.6,1.3-1.6,1.3H101.6z" class="st0"></path>
        <path d="M94.7,30.9h-1.2l-3.3,7.6h1.4l0.8-1.8h3.6l0.8,1.8h1.4L94.7,30.9z M92.8,35.5l1.3-3l1.3,3H92.8z" class="st0"></path>
        <path d="M84.6,33.9c-0.3,0-0.4-0.2-0.4-0.4c0-0.2,0.1-0.3,0.1-0.3c0-0.1,0-0.1-0.1-0.1c-0.5,0-1.4,1.2-1.6,1.7l-0.8,2.7 h-0.8l1.3-4.3h-0.7l0-0.2h0.4c0.6,0,1,0,1.3-0.2l-0.4,1.3l0,0c0.3-0.5,1.1-1.3,1.7-1.3c0.5,0,0.7,0.3,0.7,0.5 C85.1,33.7,84.8,33.9,84.6,33.9z" class="st0"></path>
        <path d="M77.9,32.7c-1.6,0-2.8,1.6-2.8,2.9c0,1.1,0.6,1.9,1.8,1.9c1.3,0,2.7-1.3,2.7-3.1C79.6,33.4,78.7,32.7,77.9,32.7 z M77.9,36.7c-0.1,0.2-0.4,0.7-1.1,0.7c-0.6,0-0.9-0.4-0.9-0.9c0-0.5,0.6-2.4,0.8-2.8c0.2-0.4,0.6-0.7,1.2-0.7 c0.6,0,0.9,0.3,0.9,0.9C78.8,34.4,78.2,36.3,77.9,36.7z" class="st0"></path>
        <path d="M75.8,30.6c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.3,0.2-0.4c0-0.1-0.1-0.1-0.2-0.1c-0.6,0-1.2,1.7-1.4,2.2 L73.6,33h1.1l0,0.2h-1.1c-0.6,2.2-1.1,4.3-1.6,5.3c-0.7,1.5-1.2,1.8-1.8,1.8c-0.4,0-0.7-0.3-0.7-0.6c0-0.3,0.2-0.5,0.5-0.5 c0.3,0,0.5,0.2,0.5,0.4c0,0.3-0.2,0.3-0.2,0.4c0,0.1,0.1,0.1,0.2,0.1c0.2,0,0.6-0.2,0.9-1.1c0.4-1.2,0.8-3.8,1.4-5.8h-1l0-0.2h1 c0.3-1.2,0.8-2.2,1.4-2.8c0.5-0.5,1-0.8,1.5-0.8c0.4,0,0.7,0.3,0.7,0.7C76.3,30.3,76,30.6,75.8,30.6z" class="st0"></path>
        <polygon points="218.9,24.3 218.9,25.3 211.7,25.3 211.7,15.4 218.8,15.4 218.8,16.5 212.8,16.5 212.8,19.8 218.2,19.8 218.2,20.8 212.8,20.8 212.8,24.3" class="st0"></polygon>
        <polygon points="204.9,16.5 204.9,25.3 203.8,25.3 203.8,16.5 200.5,16.5 200.5,15.4 208.2,15.4 208.2,16.5" class="st0"></polygon>
        <path d="M193,25.4c-2.4,0-4.1-1.5-4.1-4.3v-5.7h1.1v5.7c0,2.1,1.1,3.3,3,3.3c1.8,0,3-1.1,3-3.3v-5.7h1.1v5.6 C197.1,24,195.5,25.4,193,25.4z" class="st0"></path>
        <polygon points="182.3,16.5 182.3,25.3 181.2,25.3 181.2,16.5 181.2,16.5 177.9,16.5 177.9,15.4 185.6,15.4 185.6,16.5" class="st0"></polygon>
        <rect x="173.2" y="15.4" width="1.1" height="9.9" class="st0"></rect>
        <polygon points="166.3,16.5 166.3,25.3 165.2,25.3 165.2,16.5 161.8,16.5 161.8,15.4 169.6,15.4 169.6,16.5" class="st0"></polygon>
        <path d="M155.9,19.8c2.2,0.5,3.2,1.3,3.2,2.8v0c0,1.7-1.4,2.8-3.4,2.8c-1.6,0-2.8-0.5-4-1.6l0.7-0.8 c1,0.9,2,1.4,3.4,1.4c1.3,0,2.2-0.7,2.2-1.7v0c0-0.9-0.5-1.4-2.6-1.9c-2.3-0.5-3.3-1.2-3.3-2.8v0c0-1.5,1.4-2.7,3.2-2.7 c1.4,0,2.5,0.4,3.5,1.2l-0.6,0.9c-0.9-0.7-1.8-1.1-2.8-1.1c-1.3,0-2.1,0.7-2.1,1.6v0C153.2,18.8,153.7,19.4,155.9,19.8z" class="st0"></path>
        <polygon points="147.3,25.3 140.9,17.2 140.9,25.3 139.8,25.3 139.8,15.4 140.9,15.4 147.1,23.3 147.1,15.4 148.2,15.4 148.2,25.3" class="st0"></polygon>
        <rect x="134.4" y="15.4" width="1.1" height="9.9" class="st0"></rect>
        <polygon points="123.6,25.3 117.3,17.2 117.3,25.3 116.2,25.3 116.2,15.4 117.3,15.4 123.5,23.3 123.5,15.4 124.5,15.4 124.5,25.3" class="st0"></polygon>
        <polygon points="112.6,24.3 112.6,25.3 105.4,25.3 105.4,15.4 105.4,15.4 112.5,15.4 112.5,16.5 106.5,16.5 106.5,19.8 111.9,19.8 111.9,20.8 106.5,20.8 106.5,24.3" class="st0"></polygon>
        <polygon points="95.3,25.3 95.3,15.4 96.4,15.4 96.4,24.3 101.9,24.3 101.9,25.3" class="st0"></polygon>
        <polygon points="85.2,25.3 85.2,15.4 85.2,15.4 86.3,15.4 86.3,24.3 91.8,24.3 91.8,25.3" class="st0"></polygon>
        <path d="M77.3,15.4h-1l-4.5,9.9h1.1l1.2-2.6h5.4l1.2,2.6h1.2L77.3,15.4z M74.6,21.7l2.2-5l2.2,5H74.6z" class="st0"></path>
        <path d="M25.9,7.4l1.7,0.8l-1.5,0.8c-0.1,0-0.1,0.2-0.1,0.3s0.1,0.2,0.2,0.2l1.9,0.3l-1.4,1.5c-0.1,0.1-0.1,0.2,0,0.3 s0.2,0.1,0.3,0.1l2.2-0.5l-0.6,1.4c0,0.1,0,0.2,0.1,0.3s0.2,0.1,0.3,0l1-0.5c-0.3-0.8-0.5-1.7-0.9-2.4c-0.2-0.4-0.4-0.9-0.5-1.4 c-0.5-1-0.3-2,0.2-2.9c0.6-1,1.4-1.5,2.4-1.7c1.2-0.3,2.4,0,3.3,0.9c0.7,0.6,1,1.3,1.2,2.2s0,1.7-0.4,2.5c-0.3,0.6-0.7,1.2-0.9,1.9 c-0.1,0.3-0.2,0.5-0.3,0.8l1.1,0.6h0.1c0.1,0,0.1,0,0.2-0.1c0.1-0.1,0.1-0.2,0.1-0.3l-0.6-1.4l2.2,0.5c0.1,0,0.2,0,0.3-0.1 s0-0.2,0-0.3l-1.4-1.5L38,9.2c0.1,0,0.2-0.1,0.2-0.2s0-0.2-0.1-0.3L36.5,8l1.7-0.8c0.1,0,0.2-0.1,0.1-0.2c0-0.1-0.1-0.2-0.2-0.2 l-1.9-0.3L38,4.9c0.1-0.1,0.1-0.2,0.1-0.3c0-0.1-0.2-0.1-0.3-0.1L35.7,5l1.4-2c0.1-0.1,0.1-0.2,0-0.3s-0.2-0.1-0.3-0.1L34.4,4 l0.6-2.7c0-0.1,0-0.2-0.1-0.3c-0.1,0-0.2,0-0.3,0.1L33,3.3l-0.7-3c0-0.1-0.1-0.2-0.2-0.2s-0.2,0.1-0.2,0.2l-0.6,3.1l-1.7-2.3 c-0.2-0.1-0.3-0.1-0.3-0.1S29,1.2,29.1,1.3L29.6,4l-2.4-1.3c-0.1-0.1-0.2,0-0.3,0.1c-0.1,0.1-0.1,0.2,0,0.3l1.4,2l-2.2-0.4 c-0.1,0-0.2,0-0.3,0.1c0,0.1,0,0.2,0.1,0.3l1.7,1.6l-1.9,0.3c-0.1,0-0.2,0.1-0.2,0.2C25.8,7.2,25.8,7.3,25.9,7.4z" class="st0"></path>
        <path d="M45.8,38.6l6.5-9.8c2.4-3.6,3.5-6.5,3.5-8.9c0-2.6-0.9-4.6-2.7-6.1c-1.7-1.4-4.5-2.1-7.5-2.2l0,0 c-0.1,0-0.2,0-0.2,0c-0.1,0-0.2,0-0.2,0l0,0c-8.3,0.2-17.1,5.2-24.7,11.3l-3.9-10.9H11L0,43.8h6.2c0,0,4.4-6,11.1-12.5l4.1,12.5h6.2 l-5.8-16.6c2.4-2,4.8-3.8,7.4-5.5v22.1h5.7v-25c3.6-1.6,7.2-2.5,10.8-2.4c2.9,0,4.3,1.2,4.3,3.6c0,2-1,4.4-3,7.4L37,41.9v1.7h20.6 v-5H45.8z M9.9,32.6l3.9-11.9l2,6.2C13.7,28.7,11.7,30.7,9.9,32.6z" class="st0"></path>
        <path d="M30.2,13.7c0.1,0.3,0.1,0.5,0.2,0.8c0,0.1,0,0.1,0.1,0.2c1.2-0.7,2.4-1.3,3.7-1.9c0-0.1,0-0.1,0.1-0.2 c0-0.1,0-0.1,0.1-0.2H30C30,12.8,30.1,13.3,30.2,13.7z" class="st0"></path>
      </symbol>
    </svg>

  </body>
</html>
