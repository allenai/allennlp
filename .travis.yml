# use new container-based travis workers
sudo: required
dist: trusty

language: python

services:
  - docker

env:
  matrix:
    - COVERAGE="true" RUN_TESTS="true"
    - RUN_PYLINT="true"
    - RUN_MYPY="true"
    - BUILD_DOCS="true"

notifications:
  email: false

install: source build_tools/travis/install.sh

script:
  - docker build -t allennlp/allennlp .
  - docker run allennlp/allennlp -c /bin/bash -c "/stage/build_tools/travis/test_script.sh"
